// Generated by CoffeeScript 1.6.3
(function() {
  var app;

  app = angular.module('app', []);

  app.controller('MainCtrl', function() {
    var ctrl, currentSlide, go, slideElements;
    ctrl = this;
    currentSlide = 0;
    slideElements = $('#Stack').children();
    this.goBack = function() {
      return go(currentSlide, currentSlide - 1);
    };
    this.goNext = function() {
      return go(currentSlide, currentSlide + 1);
    };
    go = function(from, to) {
      var elem, element, inNum, outNum, _i, _len, _results;
      to = Math.min(4, Math.max(0, to));
      currentSlide = to;
      ctrl.current = currentSlide;
      $(slideElements).removeClass('current next previous before after');
      _results = [];
      for (_i = 0, _len = slideElements.length; _i < _len; _i++) {
        element = slideElements[_i];
        elem = $(element);
        inNum = elem.data('in');
        outNum = elem.data('out');
        if (to > outNum) {
          _results.push(elem.addClass('before'));
        } else if (to === outNum) {
          _results.push(elem.addClass('previous'));
        } else if (to >= inNum && to < outNum) {
          _results.push(elem.addClass('current'));
        } else if (to === inNum - 1) {
          _results.push(elem.addClass('next'));
        } else if (to < inNum - 1) {
          _results.push(elem.addClass('after'));
        } else {
          _results.push(void 0);
        }
      }
      return _results;
    };
    return go(0, 0);
  });

}).call(this);
